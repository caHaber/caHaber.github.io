<!DOCTYPE html>
<head>
<meta charset="utf-8">
<link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<style>

html, body{
    background-color: white;
    font-family: 'Open Sans',sans-serif;
}

svg {
    background-color: white;
    border-radius:5px;
}



path.line {
    fill: none;
    stroke: steelblue;
    stroke-width: 4px;
}

.y-axis line {
  stroke: lightgrey;
}


.bar {
 transition: fill .5s ease;
  fill: lightblue;
}

rect#M,
rect#S {
    transition: fill .5s ease;
    fill: steelblue;
}
rect#M:hover,
rect#S:hover,
.bar:hover {
  fill: red;
}

.y_axis,
.axis {
  font: 10px sans-serif;
}



.y_axis path,
.axis path {
    fill: none;
}


.axis line {
  fill: none;
  stroke: lightgrey;
  shape-rendering: crispEdges;
}

.x_axis line {
  stroke: whitesmoke;
}



</style>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
<script src="//d3js.org/d3.v3.min.js"></script>
<script src="//d3js.org/queue.v1.min.js"></script>
<script src="https://d3js.org/d3-voronoi.v1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3-legend/1.10.0/d3-legend.min.js"></script>
<script src="draw.js"></script>
<link rel="stylesheet" href="animations.css">
<link rel="stylesheet" href="style.css">

</head>
<body>
    <section>
        <div class="container">
            <div class="row">
                <div class="col-md-12 text-center">
                    <h1>
                        How is water used in the city of Los angeles?
                    </h1>
                </div>
            </div>
        </div>
    </section>
    <div class="container">
        <div class="row">
            <div class="col-md-6" id="title">
                <div class="col-md-10 col-md-offset-2">
                    <h2> Breakdown of Water Usage by Group </h2>
                    <h4> Percentages are 5-year average from FY10-14 </h4>
                </div>
            </div>
            <div class="col-md-6" id="title2">
                <div class="col-md-10 col-md-offset-2">
                    <h2> Water Usage per Month </h2>
                    <h4> July 2005 - June 2012 </h4>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4 col-md-offset-4" id="bottom">
            <h4> Majority of water use is residential mainly focusing on Single-Family homes.
                Despite better water usage over time, more affluent
                home owners still are using unacceptably inproportionate amounts of water.</h4>
            <h6> *data supplied by performance.lacity.org </h6>
            </div>
        </div>
    </div>

    <!-- section 2 -->
    <section>
        <div class="container">
            <div class="row">
                <div class="col-md-12 text-center">
                    <h1>
                        Lets compare water usage per zipcode
                    </h1>
                </div>
            </div>

        </div>
    </section>
    <div class="container">
        <div class="row">
            <div class="col-md-6" id="title2">
                <div class="col-md-10 col-md-offset-2">
                    <h2> Water Usage by Zipcode </h2>
                    <h4> 7 year average from 2005 - 2012 </h4>
                </div>
            </div>
            <div class="col-md-6" id="waterBar">
                <div class="col-md-10 col-md-offset-2">
                    <h2> Water Usage by Zipcode </h2>
                    <h4> 7 year average from 2005 - 2012 (GDPC) - Top Users</h4>
                </div>
            </div>
        </div>
    </div>

<!-- section 3 -->
    <section>
        <div class="container">
            <div class="row">
                <div class="col-md-12 text-center">
                    <h1>
                        Lets compare the wealth per zipcode
                    </h1>
                </div>
            </div>

        </div>
    </section>

    <div class="container">
        <div class="row">
            <div class="col-md-6" id="map2">
                <div class="col-md-10 col-md-offset-2">
                    <h2> Household Median Salary Income </h2>
                    <h4> End of 2014 </h4>
                </div>
            </div>
            <div class="col-md-6" id="salaryBar">
                <div class="col-md-10 col-md-offset-2">
                    <h2> Top salary Brackets by zipcode </h2>
                    <h4> 2014 Household Median  - Highest Income Areas</h4>
                </div>
            </div>
        </div>
    </div>

<!-- section 4 -->
<section>
</section>

<script>



//For the salary bar graph
var rateByZip = d3.map();


// For appending child to front
d3.selection.prototype.moveToFront = function() {
  return this.each(function(){
    this.parentNode.appendChild(this);
  });
};




function accessor(d) {
    var row = {};
    var str = d.Percentage;
    row.value = +(str).slice(0,str.length-1);
    row.user = d["End User"];
    return row;
}

function comparator(a, b) {
  return b.value - a.value;
}


// drawBar();

drawPie();
drawLine();
// drawWaterUse();
// drawSalaryMap();
// drawWaterBar();



</script>

</body>
